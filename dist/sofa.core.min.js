"use strict";var cc=window.cc={},sofa=window.sofa=cc;!function(){sofa.namespace=function(a){var b,c=a.split("."),d=sofa;("cc"===c[0]||"sofa"===c[0])&&(c=c.slice(1));var e,f=sofa;for(b=0;b<c.length;b++)"undefined"==typeof d[c[b]]&&(d[c[b]]={}),b===c.length-2&&(f=d[c[b]]),e=c[b],d=d[c[b]];return{targetParent:f,targetName:e,bind:function(a){f[e]=a}}},sofa.define=function(a,b){sofa.namespace(a).bind(b)},sofa.inherits=function(a,b,c){c=c||{};var d={};[a.prototype,c].forEach(function(a){Object.getOwnPropertyNames(a).forEach(function(b){d[b]=Object.getOwnPropertyDescriptor(a,b)})}),a.prototype=Object.create(b.prototype,d),a.super=b}}(),sofa.define("sofa.ConfigService",function(){var a={};return sofa.Config=sofa.Config||{},a.getSupportedCountries=function(){return sofa.Config.countries?sofa.Config.countries:[]},a.getDefaultCountry=function(){var b=a.getSupportedCountries();return 0===b.length?null:b[0]},a.getLocalizedPayPalButtonClass=function(b){return b?"cc-paypal-button--"+a.get("locale")+"--disabled":"cc-paypal-button--"+a.get("locale")},a.get=function(a,b){var c=sofa.Config[a];return sofa.Util.isUndefined(c)&&!sofa.Util.isUndefined(b)?b:c},a}),sofa.define("sofa.models.BasketItem",function(){var a=this;return a.quantity=0,a}),sofa.models.BasketItem.prototype.getPrice=function(){return this.variant&&sofa.Util.isNumeric(this.variant.price)?this.variant.price:this.product.price},sofa.models.BasketItem.prototype.getTotal=function(){return sofa.Util.round(this.quantity*this.getPrice(),2)},sofa.models.BasketItem.prototype.getVariantID=function(){return this.variant?this.variant.variantID:null},sofa.models.BasketItem.prototype.getOptionID=function(){return this.variant?this.variant.optionID:null},sofa.define("sofa.models.Product",function(){}),sofa.models.Product.prototype.getImage=function(a){for(var b=0;b<this.images.length;b++)if(this.images[b].sizeName.toLowerCase()===a)return this.images[b].url;return sofa.Config.mediaPlaceholder},sofa.models.Product.prototype.getAllImages=function(){return this._allImages||(this._allImages=[{url:this.getImage("large")}].concat(this.imagesAlt)),this._allImages},sofa.models.Product.prototype.hasMultipleImages=function(){return this.getAllImages().length>0},sofa.models.Product.prototype.getBasePriceInfo=function(){if(this.custom1>0){if("kg"===this.custom3)return"entspricht "+sofa.Util.toFixed(this.custom1,2)+" € pro 1 Kilogramm (kg)";if("St"===this.custom3)return"entpricht "+sofa.Util.toFixed(this.custom1,2)+" € pro 1 Stück (St)";if("L"===this.custom3)return"entpricht "+sofa.Util.toFixed(this.custom1,2)+" € pro 1 Liter (l)";if(sofa.Util.isString(this.custom3)&&this.custom3.length>0)return"entpricht "+sofa.Util.toFixed(this.custom1,2)+" € pro "+this.custom3}return""},sofa.models.Product.prototype.hasOldPrice=function(){return sofa.Util.isNumeric(this.priceOld)&&this.priceOld>0},sofa.models.Product.prototype.hasVariants=function(){return!!(this.variants&&this.variants.length>0)},sofa.models.Product.prototype.isOutOfStock=function(){return void 0===this.qty||null===this.qty?!1:!this.hasVariants()&&this.qty<=0||this.areAllVariantsOutOfStock()},sofa.models.Product.prototype.areAllVariantsOutOfStock=function(){return this.hasVariants()?sofa.Util.every(this.variants,function(a){return a.stock<=0}):!1},sofa.define("sofa.Observable",function(){var a={mixin:function(a,b){return b={},a.on=function(c,d){return(b[c]=b[c]||[]).push(d),a},a.once=function(b,c){function d(){c.apply(a.off(b,d),arguments)}return d.h=c,a.on(b,d)},a.off=function(c,d){for(var e=b[c],f=0;d&&e&&e[f];f++)e[f]!==d&&e[f].h!==d||e.splice(f--,1);return f||delete b[c],a},a.emit=function(c){for(var d=b[c],e=0;d&&d[e];)d[e++].apply(a,d.slice.call(arguments,1));return a},a}};return a}),sofa.observable=new sofa.Observable,sofa.define("sofa.QService",function(){function a(a,b){function c(a){return a}function d(a){return h(a)}function e(a){var b=f(),c=0,d=isArray(a)?[]:{};return forEach(a,function(a,e){c++,g(a).then(function(a){d.hasOwnProperty(e)||(d[e]=a,--c||b.resolve(d))},function(a){d.hasOwnProperty(e)||b.reject(a)})}),0===c&&b.resolve(d),b.promise}var f=function(){var e,i,j=[];return i={resolve:function(b){if(j){var c=j;j=void 0,e=g(b),c.length&&a(function(){for(var a,b=0,d=c.length;d>b;b++)a=c[b],e.then(a[0],a[1],a[2])})}},reject:function(a){i.resolve(h(a))},notify:function(b){if(j){var c=j;j.length&&a(function(){for(var a,d=0,e=c.length;e>d;d++)a=c[d],a[2](b)})}},promise:{then:function(a,g,h){var i=f(),k=function(d){try{i.resolve((a||c)(d))}catch(e){b(e),i.reject(e)}},l=function(a){try{i.resolve((g||d)(a))}catch(c){b(c),i.reject(c)}},m=function(a){try{i.notify((h||c)(a))}catch(d){b(d)}};return j?j.push([k,l,m]):e.then(k,l,m),i.promise},always:function(a){function b(a,b){var c=f();return b?c.resolve(a):c.reject(a),c.promise}function d(d,e){var f=null;try{f=(a||c)()}catch(g){return b(g,!1)}return f&&f.then?f.then(function(){return b(d,e)},function(a){return b(a,!1)}):b(d,e)}return this.then(function(a){return d(a,!0)},function(a){return d(a,!1)})}}}},g=function(b){return b&&b.then?b:{then:function(c){var d=f();return a(function(){d.resolve(c(b))}),d.promise}}},h=function(b){return{then:function(c,e){var g=f();return a(function(){g.resolve((e||d)(b))}),g.promise}}},i=function(e,i,j,k){var l,m=f(),n=function(a){try{return(i||c)(a)}catch(d){return b(d),h(d)}},o=function(a){try{return(j||d)(a)}catch(c){return b(c),h(c)}},p=function(a){try{return(k||c)(a)}catch(d){b(d)}};return a(function(){g(e).then(function(a){l||(l=!0,m.resolve(g(a).then(n,o,p)))},function(a){l||(l=!0,m.resolve(o(a)))},function(a){l||m.notify(p(a))})}),m.promise};return{defer:f,reject:h,when:i,all:e}}return a(function(a){a()},function(a){console.log(a)})}),sofa.Util={isToFixedBroken:"1"!==.9.toFixed(),indicatorObject:{},objectTypes:{"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},domReady:function(a){"complete"===document.readyState?a():window.addEventListener("load",a,!1)},round:function(a,b){var c=Math.pow(10,b);return Math.round(a*c)/c},toFixed:function(a,b){if(a=sofa.Util.isString(a)?parseFloat(a):a,sofa.Util.isToFixedBroken){b=b||0;var c=Math.pow(10,b);return(Math.round(a*c)/c).toFixed(b)}return a.toFixed(b)},clone:function(a){if(null===a||"object"!=typeof a)return a;var b;if(a instanceof Date)return b=new Date,b.setTime(a.getTime()),b;if(a instanceof Array){b=[];for(var c=0,d=a.length;d>c;c++)b[c]=this.clone(a[c]);return b}if(a instanceof Object){b={};for(var e in a)a.hasOwnProperty(e)&&(b[e]=this.clone(a[e]));return b}throw new Error("Unable to copy obj! Its type isn't supported.")},extend:function(a){for(var b=0;b<arguments.length;b++){var c=arguments[b];if(c!==a)for(var d in c)a[d]=c[d]}return a},createCallback:function(a,b,c){var d=typeof a;if("function"!==d){if("object"!==d)return function(b){return b[a]};var e=keys(a);return function(b){for(var c=e.length,d=!1;c--&&(d=isEqual(b[e[c]],a[e[c]],sofa.Util.indicatorObject)););return d}}return"undefined"==typeof b?a:1===c?function(c){return a.call(b,c)}:2===c?function(c,d){return a.call(b,c,d)}:4===c?function(c,d,e,f){return a.call(b,c,d,e,f)}:function(c,d,e){return a.call(b,c,d,e)}},findKey:function(a,b,c){var d;return b=sofa.Util.createCallback(b,c),sofa.Util.forOwn(a,function(a,c,e){return b(a,c,e)?(d=c,!1):void 0}),d},find:function(a,b,c){var d;return b=sofa.Util.createCallback(b,c),sofa.Util.forOwn(a,function(a,c,e){return b(a,c,e)?(d=a,!1):void 0}),d},every:function(a,b,c){var d=!0;return b=sofa.Util.createCallback(b,c),sofa.Util.forOwn(a,function(a,c,e){return b(a,c,e)?void 0:(d=!1,!1)}),d},forOwn:function(a,b){var c,d=a,e=d;if(!d)return e;if(!sofa.Util.objectTypes[typeof d])return e;for(c in d)if(Object.prototype.hasOwnProperty.call(d,c)&&b(d[c],c,a)===!1)return e;return e},debounce:function(a,b,c){var d,e;return function(){var f=this,g=arguments,h=function(){d=null,c||(e=a.apply(f,g))},i=c&&!d;return clearTimeout(d),d=setTimeout(h,b),i&&(e=a.apply(f,g)),e}},isObject:function(a){return"object"==typeof a},isNumber:function(a){return"number"==typeof a},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},isArray:function(a){return"[object Array]"===toString.call(a)},isFunction:function(a){return"function"==typeof a},isString:function(a){return"string"==typeof a},isUndefined:function(a){return"undefined"==typeof a},createGuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"===a?b:3&b|8;return c.toString(16)})},capitalize:function(a){return a.charAt(0).toUpperCase()+a.slice(1)},Array:{remove:function(a,b){var c=a.indexOf(b);return a.splice(c,1),a}},toJson:function(a){if(!a||!a.length||a.length<2)return null;var b=a.substring(1,a.length-1);return JSON.parse(b)}},sofa.define("sofa.util.TreeIterator",function(a,b){var c=this,d=!0;c.iterateChildren=function(b){return d=!0,e(a,b)};var e=function(a,c,f){d=c(a,f),a[b]&&d!==!1&&a[b].forEach(function(b){d!==!1&&e(b,c,a)})}});